<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="577px" preserveAspectRatio="none" style="width:745px;height:577px;" version="1.1" viewBox="0 0 745 577" width="745px" zoomAndPan="magnify"><defs><filter height="300%" id="f17fpsysq8qnat" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f17fpsysq8qnat)" height="77.9316" style="stroke: #000000; stroke-width: 2.0;" width="291.5" x="234" y="202.7305"/><rect fill="#FFFFFF" height="31.3105" style="stroke: none; stroke-width: 1.0;" width="291.5" x="234" y="249.3516"/><rect fill="#FFFFFF" filter="url(#f17fpsysq8qnat)" height="77.9316" style="stroke: #000000; stroke-width: 2.0;" width="426.5" x="234" y="441.9043"/><rect fill="#FFFFFF" height="31.3105" style="stroke: none; stroke-width: 1.0;" width="426.5" x="234" y="488.5254"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="309" x2="309" y1="38.4883" y2="536.8359"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="452.5" x2="452.5" y1="38.4883" y2="536.8359"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="587.5" x2="587.5" y1="38.4883" y2="536.8359"/><rect fill="#F8F8F8" filter="url(#f17fpsysq8qnat)" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="126" x="244" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="251" y="23.5352">Web/Mobile APP</text><rect fill="#F8F8F8" filter="url(#f17fpsysq8qnat)" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="126" x="244" y="535.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="251" y="556.3711">Web/Mobile APP</text><rect fill="#F8F8F8" filter="url(#f17fpsysq8qnat)" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="121" x="390.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="397.5" y="23.5352">Micro-Service 1</text><rect fill="#F8F8F8" filter="url(#f17fpsysq8qnat)" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="121" x="390.5" y="535.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="397.5" y="556.3711">Micro-Service 1</text><rect fill="#F8F8F8" filter="url(#f17fpsysq8qnat)" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="121" x="525.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="532.5" y="23.5352">Micro-Service 2</text><rect fill="#F8F8F8" filter="url(#f17fpsysq8qnat)" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="121" x="525.5" y="535.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="532.5" y="556.3711">Micro-Service 2</text><path d="M71,53.4883 L71,78.4883 L300,78.4883 L300,63.4883 L290,53.4883 L71,53.4883 " fill="#ECECEC" filter="url(#f17fpsysq8qnat)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M290,53.4883 L290,63.4883 L300,63.4883 L290,53.4883 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="77" y="71.0566">Generating new dynamic API-Key</text><path d="M8,92.7988 L8,117.7988 L300,117.7988 L300,102.7988 L290,92.7988 L8,92.7988 " fill="#ECECEC" filter="url(#f17fpsysq8qnat)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M290,92.7988 L290,102.7988 L300,102.7988 L290,92.7988 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="14" y="110.3672">API-Key-client = Totp.ComputeEncrypted()</text><polygon fill="#383838" points="441,144.4199,451,148.4199,441,152.4199,445,148.4199" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="309" x2="447" y1="148.4199" y2="148.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="316" y="143.6777">Request</text><path d="M303,161.4199 L303,186.4199 L598,186.4199 L598,171.4199 L588,161.4199 L303,161.4199 " fill="#ECECEC" filter="url(#f17fpsysq8qnat)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M588,161.4199 L588,171.4199 L598,171.4199 L588,161.4199 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="309" y="178.9883">API-Key-server = Totp.ComputeEncrypted()</text><path d="M234,202.7305 L296,202.7305 L296,209.7305 L286,219.7305 L234,219.7305 L234,202.7305 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="77.9316" style="stroke: #000000; stroke-width: 2.0;" width="291.5" x="234" y="202.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="249" y="216.2988">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="311" y="215.3652">[API-Key-client == API-Key-server]</text><polygon fill="#383838" points="320,237.3516,310,241.3516,320,245.3516,316,241.3516" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="314" x2="452" y1="241.3516" y2="241.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="326" y="236.6094">Response</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="234" x2="525.5" y1="250.3516" y2="250.3516"/><polygon fill="#383838" points="320,268.6621,310,272.6621,320,276.6621,316,272.6621" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="314" x2="452" y1="272.6621" y2="272.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="326" y="267.9199">401 (Unauthorized)</text><path d="M71,292.6621 L71,317.6621 L300,317.6621 L300,302.6621 L290,292.6621 L71,292.6621 " fill="#ECECEC" filter="url(#f17fpsysq8qnat)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M290,292.6621 L290,302.6621 L300,302.6621 L290,292.6621 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="77" y="310.2305">Generating new dynamic API-Key</text><path d="M8,331.9727 L8,356.9727 L300,356.9727 L300,341.9727 L290,331.9727 L8,331.9727 " fill="#ECECEC" filter="url(#f17fpsysq8qnat)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M290,331.9727 L290,341.9727 L300,341.9727 L290,331.9727 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="14" y="349.541">API-Key-client = Totp.ComputeEncrypted()</text><polygon fill="#383838" points="576,383.5938,586,387.5938,576,391.5938,580,387.5938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="309" x2="582" y1="387.5938" y2="387.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="316" y="382.8516">Request</text><path d="M438,400.5938 L438,425.5938 L733,425.5938 L733,410.5938 L723,400.5938 L438,400.5938 " fill="#ECECEC" filter="url(#f17fpsysq8qnat)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M723,400.5938 L723,410.5938 L733,410.5938 L723,400.5938 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="444" y="418.1621">API-Key-server = Totp.ComputeEncrypted()</text><path d="M234,441.9043 L296,441.9043 L296,448.9043 L286,458.9043 L234,458.9043 L234,441.9043 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="77.9316" style="stroke: #000000; stroke-width: 2.0;" width="426.5" x="234" y="441.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="249" y="455.4727">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="311" y="454.5391">[API-Key-client == API-Key-server]</text><polygon fill="#383838" points="320,476.5254,310,480.5254,320,484.5254,316,480.5254" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="314" x2="587" y1="480.5254" y2="480.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="326" y="475.7832">Response</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="234" x2="660.5" y1="489.5254" y2="489.5254"/><polygon fill="#383838" points="320,507.8359,310,511.8359,320,515.8359,316,511.8359" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="314" x2="587" y1="511.8359" y2="511.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="326" y="507.0938">401 (Unauthorized)</text><!--
@startuml

skinparam monochrome true

participant "Web/Mobile APP" as c
participant "Micro-Service 1" as s1
participant "Micro-Service 2" as s2

note left of c: Generating new dynamic API-Key
note left of c: API-Key-client = Totp.ComputeEncrypted()
c -> s1 : Request
note over s1: API-Key-server = Totp.ComputeEncrypted()
alt API-Key-client == API-Key-server
    s1 -> c : Response
else 
    s1 -> c : 401 (Unauthorized)
end

note left of c: Generating new dynamic API-Key
note left of c: API-Key-client = Totp.ComputeEncrypted()
c -> s2 : Request
note over s2: API-Key-server = Totp.ComputeEncrypted()
alt API-Key-client == API-Key-server
    s2 -> c : Response
else 
    s2 -> c : 401 (Unauthorized)
end


@enduml

PlantUML version 1.2019.09(Mon Aug 26 19:19:51 EET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 13+33
Operating System: Mac OS X
OS Version: 10.15.2
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>